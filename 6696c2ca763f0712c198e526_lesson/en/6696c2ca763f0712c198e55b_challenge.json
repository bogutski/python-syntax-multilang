{
  "name": "Calculate the total amount of purchases",
  "instruction": "Write a function `calculateTotal` that takes the parameters:\n* `product1` - an object with information about the first product\n* `product2` - an object with information about the second product\n* `product3` - an object with information about the third product\n* `discount` - discount on all purchases in percentage\n\nEach product object has properties:\n* `name` - product name, string\n* `price` - product price, number\n* `quantity` - product quantity, number\n* `discount` - discount on the product in percentage, number\n\nThe function should calculate the total price of each purchase, add them up, and subtract the overall discount.\n\nThe function should return a string in the format: `Total price is $123`, where 123 is the final sum of purchases.\n\nExample function call:\n```javascript\ncalculateTotal(\n  { name: 'product1', price: 100, quantity: 2, discount: 10 }, // Subtotal $180\n  { name: 'product2', price: 200, quantity: 1, discount: 0 }, // Subtotal $200\n  { name: 'product3', price: 300, quantity: 4, discount: 20 }, // Subtotal $960\n  10 // Discount 10%\n);\n// 180 + 200 + 960 = 1340\n// 1340 - 10% (134) = 1206\n// Total price is: $1206\n```\n\nIf any of the discounts is less than 0, it should be equal to 0.\n\nIf any of the discounts is greater than 100, it should be equal to 90.\n\n```javascript\ncalculateTotal(\n  { name: 'product1', price: 100, quantity: 2, discount: 110 }, // Subtotal $20\n  { name: 'product2', price: 200, quantity: 1, discount: -10 }, // Subtotal $200\n  { name: 'product3', price: 300, quantity: 4, discount: 10 }, // Subtotal $1080\n  150 // Discount 90%\n);\n// 20 + 200 + 1080 = 1300\n// 1300 - 90% = 130\n// Total price is: $130\n\nDepending on the sequence of operations, the result may vary.\n\nDo not use the formula: `price * quantity * (1 - discount / 100)` for discount calculation, as it may result in periodic decimal fractions in some calculations.\n\nFor example, `price * quantity * (1 - discount / 100)` for `price = 100`, `quantity = 2`, `discount = 10` will return `180.00000000000003` instead of `180`.\n\nUse the formula: `price * quantity - price * quantity * discount / 100` instead.\n\nFor the total sum of purchases, use the formula:\n\n`subtotal1 + subtotal2 + subtotal3 - (subtotal1 + subtotal2 + subtotal3) * discountTotal / 100`",
  "instructions": {}
}