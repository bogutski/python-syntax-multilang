{
  "name": "Посчитать итоговую сумму покупок",
  "instruction": "Напишите функцию `calculateTotal`, которая принимает параметры:\n* `product1` - объект с информацией о первом товаре\n* `product2` - объект с информацией о втором товаре\n* `product3` - объект с информацией о третьем товаре\n* `discount` - скидка на все покупки в процентах\n\nКаждый объект продукта имеет свойства:\n* `name` – название товара, строка\n* `price` – цена товара, число\n* `quantity` – количество товара, число\n* `discount` – скидка на товар в процентах, число\n\nФункция должна посчитать сумму каждой покупки, сложить их и вычесть общую скидку.\n\nФункция должна вернуть строку вида: `Total price is $123`, где 123 – это итоговая сумма покупок.\n\nПример запуска функции:\n```javascript\ncalculateTotal(\n  { name: 'product1', price: 100, quantity: 2, discount: 10 }, // Subtotal $180\n  { name: 'product2', price: 200, quantity: 1, discount: 0 }, // Subtotal $200\n  { name: 'product3', price: 300, quantity: 4, discount: 20 }, // Subtotal $960\n  10 // Discount 10%\n);\n// 180 + 200 + 960 = 1340\n// 1340 - 10% (134) = 1206\n// Total price is: $1206\n```\n\nЕсли какой-то из дисконтов меньше 0, то он должен быть равен 0.\n\nЕсли какой-то из дисконтов больше 100, то он должен быть равен 90.\n\n```javascript\ncalculateTotal(\n  { name: 'product1', price: 100, quantity: 2, discount: 110 }, // Subtotal $20\n  { name: 'product2', price: 200, quantity: 1, discount: -10 }, // Subtotal $200\n  { name: 'product3', price: 300, quantity: 4, discount: 10 }, // Subtotal $1080\n  150 // Discount 90%\n);\n// 20 + 200 + 1080 = 1300\n// 1300 - 90% = 130\n// Total price is: $130\n\nВ зависимости от последовательности операций результат может отличаться.\n\nДля расчета скидки не используйте формулу : `price * quantity * (1 - discount / 100)` так как при некоторых расчетах вы будете получать значение, с периодическими десятичными дробями.\n\nНапример, `price * quantity * (1 - discount / 100)` для `price = 100`, `quantity = 2`, `discount = 10` вернет `180.00000000000003`, а не `180`.\n\nИспользуйте формулу: `price * quantity - price * quantity * discount / 100`\n\nДля итоговой суммы покупок используйте формулу:\n\n`subtotal1 + subtotal2 + subtotal3 - (subtotal1 + subtotal2 + subtotal3) * discountTotal / 100`",
  "instructions": {}
}