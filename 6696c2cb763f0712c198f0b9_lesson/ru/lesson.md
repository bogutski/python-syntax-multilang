### Создание нового массива

В этом примере мы разберем как удалить все элементы, которые не являются числами из массива. 

Для этого мы создадим новый массив и будем в него добавлять только числа.

```javascript
const arr = [76, '#2', 'ewq', 6, NaN, '', 2, 1, null, -5, [], 87]

const numbers = [];

for(let i = 0; i < arr.length; i++){
    if(typeof arr[i] === 'number' && !isNaN(arr[i])){  // Если тип данных элемента массива - число и он не NaN
        numbers.push(arr[i])                           // Добавляем элемент в новый массив
    }
}

console.log(numbers)  // [ 76, 6, 2, 1, -5, 87 ]
```

Все работает, как и ожидалось.


### Использование метода `splice()` для удаления элементов

Метод `splice()` позволяет удалять элементы из массива.

Разберем несколько примеров.

```javascript
const arr = ['a', 'b', 'c', 'd']

arr.splice(1, 2)  // 1 - с первого индекса, включительно; 2 - удалить 2 элемента

console.log(arr) // [ 'a', 'd' ]
```
В этом примере мы удалили элементы с индексами 1 и 2.


```javascript
const arr = ['a', 'b', 'c', 'd', 'e', 'f', 'g']

arr.splice(0, 4)  // 0 - начальный индекс; 4 - удалить 4 элемента

console.log(arr) // [ 'e', 'f', 'g' ]
```
Мы удалили первые 4 элемента массива.


Так же метод `splice()` позволяет добавлять элементы в массив.

```javascript
const arr = ['a', 'b', 'c', 'd', 'e', 'f', 'g']

arr.splice(3, 4, 'new', 'elements', 'here')  // 3 - начальный индекс; 4 - удалить 4 элемента; 
                                             // добавить новые элементы: 'new', 'elements', 'here'

console.log(arr) // [ 'a', 'b', 'c', 'new', 'elements', 'here' ]
```

В этом примере мы удалили 4 элемента, начиная с индекса 3 и добавили новые элементы в массив.

Теперь вернемся к нашей теме и попробуем удалить все элементы, которые не являются числами с помощью метода `splice()`.

```javascript
const arr = [76, '#2', 'ewq', 6, NaN, '', 2, 1, null, -5, [], 87]

for(let i = 0; i < arr.length; i++){
    if(typeof arr[i] !== 'number' || isNaN(arr[i])){  // Если элемента массива не число или элемент является NaN
        arr.splice(i, 1)                              // Удаляем элемент
    }
}

console.log(arr)  // [ 76, 'ewq', 6, '', 2, 1, -5, 87 ]
```

Ожидаемый результат у нас не получился, так как две строки остались в массиве: `'ewq'`, `''`.

Давайте разберем почему так случилось.

```
Представим массив цифр:     [0, 1, 2, 3, 4, 5]
И такой же итератор/индексы: 0, 1, 2, 3, 4, 5
```


Что будет если мы уберем один элемент с массива?
```
Array: [0, 2, 3, 4, 5]
Index:  0, 1, 2, 3, 4, 5
```

Мы видим что индексы теперь не совпадают с элементами массива.

Вернемся к циклу, допустим на втором круге цикла мы удалили элемент, числа массива сместились влево, но индекс не изменился.

На следующем круге цикла мы перейдем к следующему элементу, но `2-ка` так и останется без проверки, потому что теперь она находиться на индексе - `1`, который уже был проверен.

Чтобы решить эту проблему, нам нужно уменьшать индекс на `1`, если мы удалили элемент.

```javascript
const arr = [76, '#2', 'ewq', 6, NaN, '', 2, 1, null, -5, [], 87]

for(let i = 0; i < arr.length; i++){
    if(typeof arr[i] !== 'number' || isNaN(arr[i])){
        arr.splice(i, 1)                                // Удаляем элемент
        i--;                                            // Уменьшаем индекс на 1
    }
}

console.log(arr)  // [ 76, 6, 2, 1, -5, 87 ]
```

Отлично, теперь все работает как надо.


Давайте рассмотрим второй вариант обхода этой проблемы.

```javascript
const arr = [76, '#2', 'ewq', 6, NaN, '', 2, 1, null, -5, [], 87]

for(let i = arr.length - 1; i >= 0; i--){              // Идем с конца массива

    if(typeof arr[i] !== 'number' || isNaN(arr[i])){
        arr.splice(i, 1)
    }
}

console.log(arr)  // [ 76, 6, 2, 1, -5, 87 ]
```

В этом примере мы идем с конца массива, поэтому индексы не смещаются и мы можем спокойно удалять элементы.

Такой метод работает быстрее, чем предыдущий, так как нам не нужно добавлять дополнительную итерацию, каждый раз когда мы удаляем элемент.
