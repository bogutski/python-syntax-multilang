`Типы данных` в JavaScript делятся на `примитивные` и `сложные или составные` типы.

#### Примитивные типы данных

В переменную `примитивного типа` могут быть записаны только простые значения.

Примеры примитивных типов данных: `number`, `string`, `boolean`.

```javascript
const name = 'Bobby'; // string
const num = 456; // number
const isAvailable = true; // boolean
```

При `копировании примитивных типов данных` - копируется все значение целиком и получаются две независимые переменные.

Рассмотрим пример копирования переменной типа `number`:

```javascript
const num = 456;
const copy = num;

console.log(num); // 456
console.log(copy); // 456
```

В переменную `copy` записана копия переменной `num`.

Переменные `num` и `copy` независимы друг от друга.

Изменение значения одной переменной никак не отобразится на другой.

```javascript
copy = 100;

console.log(num); // 456
console.log(copy); // 100
```

В переменную `copy` записано новое значение `100`. Переменная `num` не изменилась.

Копирование переменных типа `string` происходит аналогично.

```javascript
const greeting = 'Welcome Bobby!';
let message = greeting;

console.log(greeting); // "Welcome Bobby!"
console.log(message); // "Welcome Bobby!"
```

Созданы 2 переменные типа `string` - `greeting` и `message`. Переменная `message` - копия переменной `greeting`.

В обеих переменных хранятся одинаковые значения `'Welcome Bobby!'`. Эти два значения не связаны между собой.

Изменяя одну переменную, мы не меняем другую.

```javascript
message = 'Hello Bobby!';

console.log(greeting); // "Welcome Bobby!"
console.log(message); // "Hello Bobby!"
```

### Сложные или составные типы данных

В переменных `сложных или составных типов` могут храниться целые коллекции данных.

Не примитивные типы данных в JavaScript представлены `объектами`.

`Объекты` - это своего рода строительные блоки, на основании которых в JavaScript могут определяться другие типы данных, например, `Array`, который мы рассмотрим подробнее в следующем разделе курса.

Объекты также называют `ссылочными` типами данных (`reference type`).

Основное отличие объектов от примитивных типов - объекты хранятся и копируются по ссылке, а не как одно значение.

При объявлении переменной `типа объект` в памяти компьютера выделяется `место` для хранения этого объекта и всей записанной в него информации.

В созданную переменную записывается не значение объекта, а `ссылка`, адрес или указатель на место в памяти компьютера, где создан объект.

```javascript
const car = {
  id: 123,
};
```

Создан новый объект, имеющий одно свойство `id` со значением `123`.

Создана переменная `car` типа `object`.

В переменную `car` записана ссылка на место в памяти компьютера, где размещен созданный объект.

Через переменную `car` можно обращаться к свойствам объекта: читать и изменять их значения, удалять, добавлять новые свойства и т.д.

#### Существует принципиальная разница между копированием примитивных типов данных и объектов.

При попытке копирования объектов через присваивание - `копируются ссылки` - копии объектов не создаются.

Давайте рассмотрим пример:

```javascript
const car = {
  id: 123,
};

console.log(car); // {id: 123}

const box = car;

console.log(box); // {id: 123}
```

При присваивании переменной `box` значения `car` не создается физическая копия объекта.

В переменную `box` записывается `копия ссылки` на уже существующий объект `car`.

В результате в обеих переменных записаны ссылки на один и тоже объект, но объект всего один.

Теперь можно через любую из этих переменных обращаться к объекту для получения или изменения его свойств.

```javascript
car.vin = 44444444444;

console.log(car); //{id: 123, vin: 44444444444}
console.log(box); //{id: 123, vin: 44444444444}
```

Так как обе переменные указывают на один и тот же объект, после добавления нового свойства `vin` через переменную `car` мы видим эти изменения, обращаясь к объекту через переменную `box`.

```javascript
box.vin = 55555555555;

console.log(car); //{id: 123, vin: 55555555555}
console.log(box); //{id: 123, vin: 55555555555}
```

И наоборот, после изменения свойства `vin` через переменную `box` мы видим эти изменения, обращаясь к объекту через переменную `car`.

Для копирования объектов такой способ не работает - нужно использовать другие методы.

### Сравнение объектов

При сравнении переменных типа `object` сравниваются ссылки, а не значения, записанные внутри объектов.

```javascript
const car = {
  id: 123,
};

const box = car;

console.log(box === car); // true
```

Ссылки в переменных `box` и `car` одинаковые, поэтому результат их сравнения - `true`.

```javascript
const car = {};
const box = {};

console.log(box === car); // false
```

Создано 2 пустых объекта. Они выглядят одинаково, и можно ошибочно предположить, что результат их сравнения должен быть `true`.

На самом деле для каждого вновь созданного объекта выделяется `свое` место в памяти, поэтому адреса-ссылки у них разные.

Сравнение двух отличающихся ссылок возвращает `false`.

```javascript
console.log({} === {}); // false

console.log({} == {}); // false
```

Для сравнения объектов нужно сравнивать их свойства-ключи и записанные в них значения.

Нужно проверять, что для каждого свойства одного объекта существует соответствующее свойство в другом объекте.

Для равенства объектов значения одноименных свойств в обоих объектах должны быть равны друг другу.

```javascript
const car = { id: 10 };
const box = { id: 10 };

console.log(box.id === car.id); // true
```

В этом примере сравниваются примитивные значения - числа, записанные в объекты.

Числа равны, поэтому результат сравнения -`true`.

Таким образом, чтобы сравнить 2 объекта, нужно `сравнить все их свойства`.

Если в объекте не очень много свойств, то их можно перебрать по одному.

```javascript
const car = { id: 10, price: 45 };
const box = { id: 10, price: 44 };

console.log(box.id === car.id && box.price === car.price); // false
```

Объекты `car` и `box` не равны друг другу, потому что в их свойствах `price` записаны разные значения.

```javascript
const car = { id: 10, price: 45 };
const box = { id: 10, price: 45 };

console.log(box.id === car.id && box.price === car.price); // true
```

Объекты `car` и `box` равны, поскольку у каждого из них есть 2 одинаковых свойства `id` и `price`с одинаковыми значениями.

Для объектов с более сложной структурой в JavaScript существуют другие встроенные механизмы сравнения.

Для сравнения объектов, содержащих в себе другие вложенные объекты, можно воспользоваться методом `JSON.stringify()`, который конвертирует переданный объект в строку.

### Копирование объектов

Для получения копии объекта нужно скопировать все его свойства в новый пустой объект.

В результате мы получаем 2 объекта с одинаковым содержимым и разными ссылками.

```javascript
const car = { id: 10, price: 44 };
const box = {};

box.id = car.id;
box.price = car.price;

console.log(box); // { id: 10, price: 44 }

console.log(box === car); // false
```

Создан объект `car` с двумя свойствами `id` и `price`.

Создан новый пустой объект `box` и в него скопированы свойства `id` и `price` из объекта `car`.

Таким образом получено 2 идентичных объекта, размещенных по разным адресам в памяти компьютера.

Сравнение переменных `box` и `car` возвращает `false`, потому что сравниваются ссылки, указывающие на разные адреса памяти.

```javascript
box.id = 1010;

console.log(box); // { id: 1010, price: 44 }
console.log(car); // { id: 10, price: 44 }

car.price = 55;

console.log(car); // { id: 10, price: 55 }
console.log(box); // { id: 1010, price: 44 }
```

Созданные объекты `car` и `box` никак не связаны друг с другом - изменяя один из них, мы не меняем другой.

Рассмотрим еще один пример копирования объекта.

Пусть у нас есть объект `building`, имеющий следующую структуру:

- `type`, тип здания - строка
- `floors`, количество этажей - число
- `address`, адрес - объект с двумя свойствами: `city` город и `streetNumber` название улицы и номер дома

Напишем функцию `copyBuilding` которая будет принимать объект `building` и возвращать копию этого объекта:

```javascript
function copyBuilding(building) {
  const newBuilding = {};
  newBuilding.type = building.type;
  newBuilding.floors = building.floors;
  newBuilding.address = {};
  newBuilding.address.city = building.address.city;
  newBuilding.address.streetNumber = building.address.streetNumber;
  return newBuilding;
}

const building1 = {
  type: 'residence',
  floors: 2,
  address: {
    city: 'New York',
    streetNumber: '23 Belt ln',
  },
};

console.log(copyBuilding(building1));
// { address: {city: "New York", streetNumber: "23 Belt ln"}, floors: 2, type: "residence"}
```
